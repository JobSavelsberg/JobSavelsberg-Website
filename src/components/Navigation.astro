---
import ThemeToggle from "./ThemeToggle.svelte";

// Get the current pathname to determine active page
const currentPath = Astro.url.pathname;
// Remove trailing slash for consistent matching
const normalizedPath =
    currentPath.endsWith("/") && currentPath !== "/"
        ? currentPath.slice(0, -1)
        : currentPath;
---

<header class="flex w-full items-center justify-between">
    <a
        class={`text-2xl text-primary font-bold underline-offset-[2px]  decoration-[3.5px]
            ${normalizedPath === "/" ? "underline" : ""}`}
        href="/"
    >
        <span class="hidden sm:inline">Job Savelsberg</span>
        <span class="inline sm:hidden">JS</span>
    </a>
    <div class="flex gap-2">
        <a
            class={`text-primary font-semibold px-2 py-2
                    text-sm  underline-offset-[1.5px] decoration-[1.5px]
                    ${normalizedPath === "/photography" ? "underline" : ""}`}
            href="/photography"
        >
            Photography
        </a>
        <a
            class={`text-primary font-semibold px-2 py-2
                    text-sm underline-offset-[1.5px] decoration-[1.5px]
                    ${normalizedPath === "/music" ? "underline" : ""}`}
            href="/music"
        >
            Music
        </a>
        <a
            class={`text-primary font-semibold px-2 py-2
                    text-sm underline-offset-[1.5px] decoration-[1.5px]
                    ${normalizedPath === "/software" ? "underline" : ""}`}
            href="/software"
        >
            Software
        </a>
    </div>

    <ThemeToggle client:load="svelte" />
</header>
