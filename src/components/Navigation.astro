---
import ThemeToggle from "./ThemeToggle.svelte";

// Get the current pathname to determine active page
const currentPath = Astro.url.pathname;
// Remove trailing slash for consistent matching
const normalizedPath =
    currentPath.endsWith("/") && currentPath !== "/"
        ? currentPath.slice(0, -1)
        : currentPath;
---

<header class="flex w-full items-center justify-between">
    <a
        class={`text-2xl text-primary font-bold hover:opacity-80 transition-opacity duration-200 ${normalizedPath === "/" ? "underline decoration-2" : ""}`}
        href="/"
    >
        <span class="hidden sm:inline">Job Savelsberg</span>
        <span class="inline sm:hidden">JS</span>
    </a>
    <div class="flex gap-2">
        <a
            class={`text-primary font-medium px-2 py-2
                    transition-all duration-200 ease-in-out text-sm opacity-70 hover:opacity-100 hover:underline
                    ${normalizedPath === "/photography" ? "opacity-100 underline decoration-2" : ""}`}
            href="/photography"
            style="text-underline-offset: 4px;"
        >
            Photography
        </a>
        <a
            class={`text-primary font-medium px-2 py-2
                    transition-all duration-200 ease-in-out text-sm opacity-70 hover:opacity-100 hover:underline
                    ${normalizedPath === "/music" ? "opacity-100 underline decoration-2" : ""}`}
            href="/music"
            style="text-underline-offset: 4px;"
        >
            Music
        </a>
        <a
            class={`text-primary font-medium px-2 py-2
                    transition-all duration-200 ease-in-out text-sm opacity-70 hover:opacity-100 hover:underline
                    ${normalizedPath === "/software" ? "opacity-100 underline decoration-2" : ""}`}
            href="/software"
        >
            Software
        </a>
    </div>
    <ThemeToggle client:load />
</header>
